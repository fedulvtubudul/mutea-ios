name: Mutea

options:
  usesTabs: true
  indentWidth: 4
  tabWidth: 4
  groupSortPosition: top
  generateEmptyDirectories: true


targets:
  MuteaCore:
    type: framework
    platform: iOS
    settings:
      PRODUCT_BUNDLE_IDENTIFIER: "com.Mutea.CoreFramework"
    sources:
      - MuteaCore
    scheme:
      gatherCoverageData: true
      testTargets:
        - name: MuteaCore-Tests
          parallelizable: true
          randomExecutionOrder: true
    postCompileScripts:
      - script: BuildScripts/SwiftLint/lint.sh
        name: SwiftLint

  MuteaApp:
    type: application
    platform: iOS
    deploymentTarget: "14.0"
    sources: 
      - MuteaApp
      - path: BuildScripts
        buildPhase: none
    configFiles:
      Debug: MuteaApp/Configuration/Debug.xcconfig
      Release: MuteaApp/Configuration/Release.xcconfig
    settings:
      configs:
        debug:
          CUSTOM_BUILD_SETTING: my_debug_value
        release:
          CUSTOM_BUILD_SETTING: my_release_value
    scheme:
      environmentVariables:
        ENABLE_SIGNPOST: YES

  MuteaCore-Tests:
    type: bundle.unit-test
    platform: iOS
    scheme:
      testTargets:
        - MuteaCore-Tests
      gatherCoverageData: true
    sources:
      - MuteaCore-Tests
    dependencies:
      - target: MuteaCore
