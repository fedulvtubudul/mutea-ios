name: Mutea

options:
  usesTabs: true
  indentWidth: 4
  tabWidth: 4
  groupSortPosition: top
  generateEmptyDirectories: true


targets:
  MuteaCore:
    type: framework
    platform:
      - iOS
      - macOS
    settings:
      PRODUCT_BUNDLE_IDENTIFIER: "com.Mutea.CoreFramework"
    sources:
      - MuteaCore
    scheme:
      gatherCoverageData: true
      testTargets:
        - name: MuteaCore-Tests_${platform}
          parallelizable: true
          randomExecutionOrder: true
    postCompileScripts:
      - script: BuildScripts/SwiftLint/lint.sh
        name: SwiftLint

  MuteaApp:
    type: application
    platform:
      - iOS
    deploymentTarget: "14.0"
    sources: 
      - MuteaApp
      - path: BuildScripts
        buildPhase: none
    settings:
      configs:
        debug:
          CUSTOM_BUILD_SETTING: my_debug_value
        release:
          CUSTOM_BUILD_SETTING: my_release_value
    scheme:
      environmentVariables:
        ENABLE_SIGNPOST: YES

  MuteaCore-Tests:
    type: bundle.unit-test
    platform:
      - iOS
      - macOS
    scheme:
      testTargets:
        - MuteaCore-Tests_${platform}
      gatherCoverageData: true
    sources:
      - MuteaCore-Tests
    dependencies:
      - target: MuteaCore_${platform}

